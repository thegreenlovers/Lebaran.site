<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selamat Idul Fitri 1446H</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="particles"></canvas>
    <div class="container">
        <img class="moon" src="https://i.postimg.cc/QxmWXM58/new-moon.png" alt="Bulan Idul Fitri">
        <h1>🌙 Assalamualaikum, Selamat Hari Raya Idul Fitri 1446H</h1>
        <h2>Mohon Maaf Lahir dan Batin</h2>
        
        <div id="message" class="message-box">Menghapus dosa-dosa lama dalam <span id="countdown">5</span> detik...</div>
        <img id="character" class="character floating" src="https://i.postimg.cc/J0YF7pM8/new-character.png" alt="Karakter Idul Fitri">
        
        <button id="takbirBtn" class="glow-button">▶️ Putar Takbir</button>
        <audio id="takbirAudio" loop>
            <source src="https://archive.org/download/takbir_20250331/takbir.mp3" type="audio/mpeg">
            Browser Anda tidak mendukung elemen audio.
        </audio>
        
        <h3>Salam dari Haryono dan keluarga</h3>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const takbirAudio = document.getElementById("takbirAudio");
            const takbirBtn = document.getElementById("takbirBtn");
            const countdownElement = document.getElementById("countdown");
            const messageElement = document.getElementById("message");
            let countdown = 5;

            function updateCountdown() {
                if (countdown > 0) {
                    countdownElement.textContent = countdown;
                    countdown--;
                    setTimeout(updateCountdown, 1000);
                } else {
                    messageElement.innerHTML = "🎉 Dosa-dosa lama telah dihapus! 🎉<br>Menjalankan update ke versi lebih baik...<br><strong>Selamat Idul Fitri!</strong>";
                }
            }
            updateCountdown();

            takbirBtn.addEventListener("click", () => {
                if (takbirAudio.paused) {
                    takbirAudio.play().catch(error => console.log("Autoplay tidak diizinkan, tekan tombol untuk memulai."));
                    takbirBtn.textContent = "⏸️ Jeda Takbir";
                } else {
                    takbirAudio.pause();
                    takbirBtn.textContent = "▶️ Putar Takbir";
                }
            });
        });
    </script>
</body>
</html>
